{
  "name": "brand-dna-ai-os",
  "version": "2.0.0",
  "description": "Complete AI Operating System for Brand DNA - 22 agents, 26 skills, governance, workflows",
  
  "config": {
    "defaultAgent": "system-architect",
    "tokenOptimization": true,
    "maxContextFiles": 5,
    "maxTokensPerRequest": 50000,
    "tools": [
      "gemini",
      "claude", 
      "kilocode",
      "opencode"
    ],
    "routing": "governance-matrix.json"
  },

  "directories": {
    "root": "../",
    "web": "../web/",
    "ai": "./",
    "database": "../database/",
    "supabase": "../supabase/"
  },

  "agents": {
    "development": [
      "system-architect",
      "fullstack-developer",
      "react-specialist",
      "supabase-expert",
      "security-engineer",
      "devops-engineer",
      "qa-engineer"
    ],
    "content": [
      "copywriter",
      "content-strategist",
      "technical-writer"
    ],
    "design": [
      "ui-designer",
      "ux-researcher",
      "graphic-designer"
    ],
    "branding": [
      "brand-strategist",
      "creative-director"
    ],
    "marketing": [
      "marketing-strategist",
      "advertising-specialist"
    ],
    "automation": [
      "automation-specialist",
      "ai-automation-engineer"
    ],
    "ai": [
      "prompt-engineer",
      "generative-ai-specialist"
    ],
    "planning": [
      "project-manager",
      "product-planner"
    ],
    "social": [
      "social-media-manager",
      "social-media-strategist"
    ]
  },

  "skills": {
    "development": [
      "create-component",
      "create-hook",
      "create-service",
      "create-context",
      "create-migration",
      "refactor-code",
      "debug-issue",
      "optimize-performance",
      "deploy"
    ],
    "content": [
      "write-copy",
      "create-tagline",
      "create-content-calendar"
    ],
    "design": [
      "design-component",
      "create-style-guide"
    ],
    "branding": [
      "develop-brand-strategy"
    ],
    "marketing": [
      "plan-campaign",
      "create-ad"
    ],
    "seo": [
      "seo-audit",
      "keyword-research"
    ],
    "ai": [
      "write-prompt",
      "generate-image-prompt"
    ],
    "automation": [
      "design-workflow",
      "build-ai-agent"
    ],
    "social": [
      "plan-social-content",
      "create-social-campaign"
    ],
    "planning": [
      "create-roadmap"
    ]
  },

  "rules": [
    "context-is-king.md",
    "project-conventions.md",
    "database-security.md",
    "component-ui.md",
    "type-safety.md",
    "service-layer.md",
    "test-driven-development.md",
    "brand-consistency.md",
    "audience-targeting.md",
    "token-optimization.md",
    "ai-ethics.md",
    "undo-manifesto.md"
  ],

  "protocols": {
    "hitl": "hitl-protocol.md",
    "agent-communication": "agent-communication-protocol.md",
    "workflow-dsl": "workflow-dsl.md"
  },

  "governance": {
    "matrix": "governance-matrix.json",
    "riskCalculation": "(complexity * 0.4) + (dataSensitivity * 0.3) + (reversibility * 0.3)",
    "routing": {
      "gemini": { "threshold": "< 0.3", "strengths": ["fast", "cheap", "high volume"] },
      "claude": { "threshold": "0.3 - 0.7", "strengths": ["reasoning", "context", "quality"] },
      "kilocode": { "threshold": "0.3 - 0.7", "strengths": ["token efficiency", "context preservation"] },
      "human": { "threshold": "> 0.7", "requiresApproval": true }
    }
  },

  "workflows": {
    "directory": "./workflows/",
    "blueprints": [
      "feature-add.af.yaml",
      "security-hardening.af.yaml",
      "tech-debt-refactor.af.yaml",
      "zero-to-brand.af.yaml",
      "ad-campaign.af.yaml",
      "seo-authority.af.yaml",
      "social-omnichannel.af.yaml",
      "agent-builder.af.yaml"
    ]
  },

  "toolConfigs": {
    "vscode": ".cursorrules",
    "gemini": "gemini-config.yaml",
    "claude": "claude-config.json",
    "kilocode": "run-flow.sh"
  },

  "helpers": {
    "devHelper": "dev-helper.sh",
    "workflowRunner": "run-flow.sh"
  },

  "toolGuides": {
    "gemini": {
      "description": "Google AI CLI - Fast & cheap",
      "useFor": ["quick generation", "simple fixes", "high volume"],
      "tokenMultiplier": 1
    },
    "claude": {
      "description": "Anthropic CLI - Deep reasoning",
      "useFor": ["architecture", "complex analysis", "security"],
      "tokenMultiplier": 5
    },
    "kilocode": {
      "description": "Kilo CLI - Token efficient",
      "useFor": ["long sessions", "iterative work", "context caching"],
      "tokenMultiplier": 0.5
    },
    "opencode": {
      "description": "OpenCode CLI - Bulk operations",
      "useFor": ["file generation", "refactoring", "workflows"],
      "tokenMultiplier": 0.8
    }
  },

  "tokenOptimization": {
    "priority": "MINIMIZE TOKEN USAGE",
    "strategies": {
      "grepFirst": "Always search before reading files",
      "maxFiles": 5,
      "referenceOverRegenerate": "Use existing patterns",
      "batchOperations": "Group similar tasks",
      "cacheResults": "Cache with TTL"
    },
    "routing": {
      "gemini": "Simple tasks, high volume",
      "kilocode": "Development sessions, context preservation",
      "opencode": "Bulk file operations",
      "claude": "Complex tasks only (expensive)"
    }
  },

  "hitl": {
    "green": {
      "risk": "< 0.3",
      "action": "Auto-execute",
      "color": "ðŸŸ¢"
    },
    "yellow": {
      "risk": "0.3 - 0.7",
      "action": "30-second passive approval",
      "color": "ðŸŸ¡"
    },
    "red": {
      "risk": "> 0.7",
      "action": "Explicit approval required",
      "color": "ðŸ”´",
      "criticalActions": [
        "Database migrations",
        "Secret rotation",
        "Production deploys",
        "Bulk deletions",
        "RLS policy changes"
      ]
    }
  },

  "projectInsights": {
    "brandOS": {
      "users": [
        {
          "persona": "Designer",
          "needs": ["brand-compliant AI", "minimal switching", "visual feedback"],
          "developFor": "Deep brand guideline understanding"
        },
        {
          "persona": "Marketer",
          "needs": ["multi-platform", "brand voice", "batch content"],
          "developFor": "Brand personality AI"
        },
        {
          "persona": "Agency",
          "needs": ["multi-brand", "team collaboration", "client portals"],
          "developFor": "Brand switching, permissions"
        }
      ]
    }
  },

  "execution": {
    "runWorkflow": "bash run-flow.sh <workflow.af.yaml>",
    "devHelper": "bash dev-helper.sh [command]",
    "example": "bash dev-helper.sh dev"
  }
}
